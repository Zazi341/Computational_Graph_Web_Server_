<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.25) on Fri Jul 18 15:02:04 IDT 2025 -->
<title>Message</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-07-18">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Message";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">graph</a></div>
<h2 title="Class Message" class="title">Class Message</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>graph.Message</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">Message</span>
extends java.lang.Object</pre>
<div class="block">Represents a message flowing through the computational graph with multiple data representations.
 
 <p>The Message class is a core data structure in the publish-subscribe system that provides
 a unified way to handle data flowing between topics and agents. Each message maintains
 multiple representations of the same data to support different computational needs:</p>
 
 <ul>
 <li><strong>Raw bytes:</strong> Original binary data for exact preservation</li>
 <li><strong>Text representation:</strong> UTF-8 decoded string for human readability</li>
 <li><strong>Numeric representation:</strong> Parsed double value for mathematical operations</li>
 <li><strong>Timestamp:</strong> Creation time for temporal tracking</li>
 </ul>
 
 <p>This dual representation pattern allows agents to work with data in their preferred
 format while maintaining data integrity and type safety throughout the computational
 graph. The class is immutable and thread-safe, making it suitable for concurrent
 message passing between agents.</p>
 
 <h3>Usage Patterns:</h3>
 
 <h4>Numeric Computation:</h4>
 <pre><code>
 // Agent processing numeric values
 public void callback(String topic, Message message) {
     if (!Double.isNaN(message.asDouble)) {
         double result = message.asDouble * 2.0;
         publishToTopic("output", new Message(result));
     }
 }
 </code></pre>
 
 <h4>Text Processing:</h4>
 <pre><code>
 // Agent processing text data
 public void callback(String topic, Message message) {
     String text = message.asText;
     if (text.startsWith("command:")) {
         processCommand(text.substring(8));
     }
 }
 </code></pre>
 
 <h4>Binary Data Handling:</h4>
 <pre><code>
 // Agent working with raw binary data
 public void callback(String topic, Message message) {
     byte[] rawData = message.data;
     if (rawData.length &gt; 0) {
         processRawBytes(rawData);
     }
 }
 </code></pre>
 
 <h3>Type Conversion Strategy:</h3>
 <p>The class automatically attempts to parse text content as numeric values.
 If parsing fails, the <code>asDouble</code> field is set to <code>Double.NaN</code>,
 allowing agents to detect and handle non-numeric data appropriately.</p>
 
 <h3>Thread Safety:</h3>
 <p>All fields are final and the class is immutable, making Message instances
 completely thread-safe for use in the concurrent agent system. Multiple agents
 can safely access the same Message instance simultaneously.</p>
 
 <h3>Memory Efficiency:</h3>
 <p>The class stores data in multiple formats for performance reasons, avoiding
 repeated conversions during agent processing. While this uses more memory per
 message, it significantly improves processing speed in computational graphs
 with many agents.</p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="Topic.html#publish(graph.Message)"><code>Topic.publish(Message)</code></a>, 
<a href="Agent.html#callback(java.lang.String,graph.Message)"><code>Agent.callback(String, Message)</code></a>, 
<a href="TopicManagerSingleton.html" title="class in graph"><code>TopicManagerSingleton</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asDouble">asDouble</a></span></code></th>
<td class="colLast">
<div class="block">The numeric representation of the message as a double value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asText">asText</a></span></code></th>
<td class="colLast">
<div class="block">The UTF-8 decoded text representation of the message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#data">data</a></span></code></th>
<td class="colLast">
<div class="block">The raw binary data of the message.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#date">date</a></span></code></th>
<td class="colLast">
<div class="block">The timestamp when this message was created.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(byte%5B%5D)">Message</a></span>&#8203;(byte[]&nbsp;data)</code></th>
<td class="colLast">
<div class="block">Creates a new Message from raw binary data.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(double)">Message</a></span>&#8203;(double&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Creates a new Message from a numeric value.</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String)">Message</a></span>&#8203;(java.lang.String&nbsp;text)</code></th>
<td class="colLast">
<div class="block">Creates a new Message from a text string.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="data">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>data</h4>
<pre>public final&nbsp;byte[] data</pre>
<div class="block">The raw binary data of the message.
 
 <p>This field contains the original byte representation of the message data,
 preserved exactly as received. It's useful for agents that need to work with
 binary data or when exact byte-level preservation is required.</p></div>
</li>
</ul>
<a id="asText">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asText</h4>
<pre>public final&nbsp;java.lang.String asText</pre>
<div class="block">The UTF-8 decoded text representation of the message.
 
 <p>This field provides a human-readable string version of the message data,
 automatically decoded from the raw bytes using UTF-8 encoding. It's the
 primary representation for text-based processing and logging.</p></div>
</li>
</ul>
<a id="asDouble">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asDouble</h4>
<pre>public final&nbsp;double asDouble</pre>
<div class="block">The numeric representation of the message as a double value.
 
 <p>This field contains the parsed numeric value of the message text.
 If the text cannot be parsed as a valid number, this field will be
 set to <code>Double.NaN</code>. Agents should check <code>Double.isNaN()</code>
 before using this value for mathematical operations.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>Double.isNaN(double)</code></dd>
</dl>
</li>
</ul>
<a id="date">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>date</h4>
<pre>public final&nbsp;java.util.Date date</pre>
<div class="block">The timestamp when this message was created.
 
 <p>This field records the exact moment when the Message instance was
 constructed, useful for temporal analysis, debugging, and message
 ordering in the computational graph.</p></div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Message</h4>
<pre>public&nbsp;Message&#8203;(byte[]&nbsp;data)</pre>
<div class="block">Creates a new Message from raw binary data.
 
 <p>This is the primary constructor that initializes all representations of the message
 from the provided byte array. The constructor performs the following operations:
 <ol>
 <li>Stores the raw binary data exactly as provided</li>
 <li>Decodes the bytes to UTF-8 text representation</li>
 <li>Attempts to parse the text as a numeric value</li>
 <li>Records the current timestamp</li>
 </ol>
 
 <p>This constructor is useful when receiving data from external sources or when
 working with binary protocols where exact byte preservation is important.</p>
 
 <h3>Example Usage:</h3>
 <pre><code>
 // Create message from binary data
 byte[] binaryData = "42.5".getBytes(StandardCharsets.UTF_8);
 Message msg = new Message(binaryData);
 
 // Access different representations
 System.out.println(msg.asText);   // "42.5"
 System.out.println(msg.asDouble); // 42.5
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>data</code> - the raw binary data for this message, must not be null</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - if data is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#%3Cinit%3E(java.lang.String)"><code>Message(String)</code></a>, 
<a href="#%3Cinit%3E(double)"><code>Message(double)</code></a></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Message</h4>
<pre>public&nbsp;Message&#8203;(java.lang.String&nbsp;text)</pre>
<div class="block">Creates a new Message from a text string.
 
 <p>This convenience constructor creates a message from a string by encoding it
 to UTF-8 bytes and delegating to the primary constructor. It's the most commonly
 used constructor for text-based data in the computational graph.</p>
 
 <h3>Example Usage:</h3>
 <pre><code>
 // Create message from text
 Message textMsg = new Message("Hello World");
 Message numericMsg = new Message("123.45");
 
 // Both text and numeric parsing work
 System.out.println(textMsg.asText);     // "Hello World"
 System.out.println(textMsg.asDouble);   // NaN (not a number)
 System.out.println(numericMsg.asDouble); // 123.45
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>text</code> - the text content for this message, must not be null</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.NullPointerException</code> - if text is null</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#%3Cinit%3E(byte%5B%5D)"><code>Message(byte[])</code></a></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Message</h4>
<pre>public&nbsp;Message&#8203;(double&nbsp;value)</pre>
<div class="block">Creates a new Message from a numeric value.
 
 <p>This convenience constructor creates a message from a double value by
 converting it to its string representation and delegating to the string
 constructor. It's optimized for numeric computations in the graph.</p>
 
 <h3>Example Usage:</h3>
 <pre><code>
 // Create message from numeric value
 Message msg = new Message(42.5);
 
 // All representations are available
 System.out.println(msg.asText);   // "42.5"
 System.out.println(msg.asDouble); // 42.5
 
 // Useful in agent computations
 double result = inputMessage.asDouble * 2.0;
 publishToTopic("output", new Message(result));
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - the numeric value for this message</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#%3Cinit%3E(java.lang.String)"><code>Message(String)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li>Method</li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
